(this.webpackJsonpreversi=this.webpackJsonpreversi||[]).push([[0],{26:function(e,r,t){e.exports=t(39)},31:function(e,r,t){},39:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),s=t(13),i=t.n(s),u=(t(31),t(6)),l=t(7),o=t(10),c=t(8),h=t(11);var d=function(e){return n.a.createElement("button",{className:"square",onClick:e.onClick},e.value)},S=function(e){function r(){return Object(u.a)(this,r),Object(o.a)(this,Object(c.a)(r).apply(this,arguments))}return Object(h.a)(r,e),Object(l.a)(r,[{key:"renderSquare",value:function(e,r){var t=this;return n.a.createElement(d,{value:this.props.squares[e][r],onClick:function(){return t.props.onClick(e,r)}})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"board-row"},this.renderSquare(0,0),this.renderSquare(0,1),this.renderSquare(0,2),this.renderSquare(0,3),this.renderSquare(0,4),this.renderSquare(0,5),this.renderSquare(0,6),this.renderSquare(0,7)),n.a.createElement("div",{className:"board-row"},this.renderSquare(1,0),this.renderSquare(1,1),this.renderSquare(1,2),this.renderSquare(1,3),this.renderSquare(1,4),this.renderSquare(1,5),this.renderSquare(1,6),this.renderSquare(1,7)),n.a.createElement("div",{className:"board-row"},this.renderSquare(2,0),this.renderSquare(2,1),this.renderSquare(2,2),this.renderSquare(2,3),this.renderSquare(2,4),this.renderSquare(2,5),this.renderSquare(2,6),this.renderSquare(2,7)),n.a.createElement("div",{className:"board-row"},this.renderSquare(3,0),this.renderSquare(3,1),this.renderSquare(3,2),this.renderSquare(3,3),this.renderSquare(3,4),this.renderSquare(3,5),this.renderSquare(3,6),this.renderSquare(3,7)),n.a.createElement("div",{className:"board-row"},this.renderSquare(4,0),this.renderSquare(4,1),this.renderSquare(4,2),this.renderSquare(4,3),this.renderSquare(4,4),this.renderSquare(4,5),this.renderSquare(4,6),this.renderSquare(4,7)),n.a.createElement("div",{className:"board-row"},this.renderSquare(5,0),this.renderSquare(5,1),this.renderSquare(5,2),this.renderSquare(5,3),this.renderSquare(5,4),this.renderSquare(5,5),this.renderSquare(5,6),this.renderSquare(5,7)),n.a.createElement("div",{className:"board-row"},this.renderSquare(6,0),this.renderSquare(6,1),this.renderSquare(6,2),this.renderSquare(6,3),this.renderSquare(6,4),this.renderSquare(6,5),this.renderSquare(6,6),this.renderSquare(6,7)),n.a.createElement("div",{className:"board-row"},this.renderSquare(7,0),this.renderSquare(7,1),this.renderSquare(7,2),this.renderSquare(7,3),this.renderSquare(7,4),this.renderSquare(7,5),this.renderSquare(7,6),this.renderSquare(7,7)))}}]),r}(n.a.Component),f=t(18),m=t.n(f),q=t(22),v=t.n(q),p=t(24),b=t.n(p),N=t(53),k=(n.a.Component,[[30,-12,0,-1,-1,0,-12,30],[-12,-15,-3,-3,-3,-3,-15,-12],[0,-3,0,-1,-1,0,-3,0],[-1,-3,-1,-1,-1,-1,-3,-1],[-1,-3,-1,-1,-1,-1,-3,-1],[0,-3,0,-1,-1,0,-3,0],[-12,-15,-3,-3,-3,-3,-15,-12],[30,-12,0,-1,-1,0,-12,30]]),g=function(e){function r(e){var t;return Object(u.a)(this,r),(t=Object(o.a)(this,Object(c.a)(r).call(this,e))).state={history:[{squares:[Array(8).fill(null),Array(8).fill(null),Array(8).fill(null),[null,null,null,"\u25cb","\u25cf",null,null,null],[null,null,null,"\u25cf","\u25cb",null,null,null],Array(8).fill(null),Array(8).fill(null),Array(8).fill(null)]}],stepNumber:0,blackIsNext:!0},t}return Object(h.a)(r,e),Object(l.a)(r,[{key:"handleClick",value:function(e,r){var t=this.state.history.slice(0,this.state.stepNumber+1),a=t[t.length-1],n=JSON.parse(JSON.stringify(a.squares),setTimeout((function(){JSON.parse(JSON.stringify(a.squares))}),0));if(console.log(n),!this.calculateWinner(n)){var s=this.getFlipCells(e,r,this.state.blackIsNext,n);if(s.length>0){n[e][r]=this.state.blackIsNext?"\u25cf":"\u25cb";for(var i=0;i<s.length;i++){var u=s[i][0],l=s[i][1];n[u][l]=this.state.blackIsNext?"\u25cf":"\u25cb"}console.log(this.state.blackIsNext),this.setState({history:t.concat([{squares:n}]),stepNumber:t.length,blackIsNext:!this.state.blackIsNext}),this.update(n,!this.state.blackIsNext)}}}},{key:"jumpTo",value:function(e){console.log("step"),console.log(e),e>=0&&this.setState({stepNumber:e,blackIsNext:!0})}},{key:"update",value:function(e,r){var t=this.canFlip(!0,e),a=this.canFlip(!1,e);t?a||this.setState({blackIsNext:!0}):this.setState({blackIsNext:!1}),r||(console.log("CPU"),setTimeout(this.think(e),1e3))}},{key:"think",value:function(e){for(var r=-1e3,t=-1,a=-1,n=[],s=0;s<8;s++)for(var i=0;i<8;i++){var u=this.getFlipCells(s,i,!1,e);if(u.length>0){n=JSON.parse(JSON.stringify(e),setTimeout((function(){JSON.parse(JSON.stringify(e))}),0));for(var l=0;l<u.length;l++){var o=u[l][0],c=u[l][1];n[o][c]="\u25cb",n[s][i]="\u25cb"}var h=this.calcWeightData(n);h>r&&(r=h,t=s,a=i)}}if(t>=0&&a>=0){var d=this.getFlipCells(t,a,!1,e);if(d.length>0){console.log("cpu put!!");var S=JSON.parse(JSON.stringify(e));S[t][a]="\u25cb";for(var f=0;f<d.length;f++){var m=d[f][0],q=d[f][1];S[m][q]="\u25cb"}var v=this.state.history.slice(0,this.state.stepNumber+1);this.setState({history:v.concat([{squares:S}]),stepNumber:v.length,blackIsNext:!0})}}}},{key:"calcWeightData",value:function(e){for(var r=0,t=0;t<8;t++)for(var a=0;a<8;a++)"\u25cb"===e[t][a]&&(r+=k[t][a]);return r}},{key:"getNumStone",value:function(e,r){for(var t=e?"\u25cf":"\u25cb",a=0,n=0;n<8;n++)for(var s=0;s<8;s++)r[n][s]===t&&a++;return a}},{key:"getFlipCells",value:function(e,r,t,a){if(null!=a[e][r])return[];for(var n,s=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],i=[],u=0;u<s.length;u++)n=this.getFlipCellsOneDir(e,r,s[u][0],s[u][1],t,a),i=i.concat(n);return i}},{key:"getFlipCellsOneDir",value:function(e,r,t,a,n,s){var i=e+t,u=r+a,l=[],o=n?"\u25cf":"\u25cb";if(i<0||u<0||i>7||u>7||s[i][u]===o||null===s[i][u])return[];for(l.push([i,u]);;){if(u+=a,(i+=t)<0||u<0||i>7||u>7||null===s[i][u])return[];if(s[i][u]===o)return l;l.push([i,u])}}},{key:"canFlip",value:function(e,r){for(var t=0;t<8;t++)for(var a=0;a<8;a++)if(this.getFlipCells(t,a,e,r).length>0)return!0;return!1}},{key:"isFinish",value:function(e,r,t){var a=this.canFlip(!0,t),n=this.canFlip(!1,t);return e+r===64||!a&&!n}},{key:"calculateWinner",value:function(e){for(var r=0,t=0,a=0;a<8;a++)for(var n=0;n<8;n++)"\u25cf"===e[a][n]&&t++,"\u25cb"===e[a][n]&&r++;if(this.isFinish(t,r,e)){if(t>r)return"\u25cf";if(r>t)return"\u25cb"}return null}},{key:"myTernPass",value:function(){var e=this.state.history.slice(0,this.state.stepNumber+1),r=e[e.length-1],t=JSON.parse(JSON.stringify(r.squares));this.update(t,!this.state.blackIsNext)}},{key:"waitTime",value:function(e){for(var r=new Date;new Date-r<e;);}},{key:"render",value:function(){var e,r=this,t=this.state.history,a=t[this.state.stepNumber],s=this.calculateWinner(a.squares),i=(t.map((function(e,t){var a=t?"Go to move #"+t:"Go to game start";return n.a.createElement("li",{key:t},n.a.createElement("button",{onClick:function(){return r.jumpTo(t)}},a))})),this.getNumStone(!0,a.squares)),u=this.getNumStone(!1,a.squares);return e=s?"Winner: "+s+"!!! :)":"Next player: "+(this.state.blackIsNext?"\u25cf":"\u25cb"),n.a.createElement("div",{className:"game"},n.a.createElement("div",{className:"game-board"},n.a.createElement(S,{squares:a.squares,onClick:function(e,t){return r.handleClick(e,t)}})),n.a.createElement("div",{className:"game-info"},n.a.createElement("div",null,e),n.a.createElement("button",{onClick:function(){return r.myTernPass()}},"PASS"),n.a.createElement("div",null,"BLACK:",i),n.a.createElement("div",null,"WHITE:",u),n.a.createElement("button",{onClick:function(){return r.jumpTo(r.state.stepNumber-1)}}," Back "),n.a.createElement("button",{onClick:function(){r.state.stepNumber<t.length-1&&r.jumpTo(r.state.stepNumber+1)}},"Next"),n.a.createElement("button",{onClick:function(){return r.jumpTo(0)}},"Reset")))}}]),r}(n.a.Component),y=function(e){function r(){return Object(u.a)(this,r),Object(o.a)(this,Object(c.a)(r).apply(this,arguments))}return Object(h.a)(r,e),Object(l.a)(r,[{key:"render",value:function(){return n.a.createElement(g,null)}}]),r}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.1c817e95.chunk.js.map